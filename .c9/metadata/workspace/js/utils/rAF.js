{"filter":false,"title":"rAF.js","tooltip":"/js/utils/rAF.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":96,"column":39},"action":"insert","lines":["var funcs = {};","","var funcCount = 0;","","var frame = false;","","var then;","","function tick(){","","\tvar now = Date.now();","","\tvar dT = now - then;","","\tfor( var name in funcs ) {","","\t\tif( funcs[ name ]( now, dT ) === false ){","","\t\t\tstop( name );","","\t\t};","","\t}","","\tthen = now;","","\tframe = requestAnimationFrame( tick );","","}","","function start( name, fn ) {","","\tif ( !fn ) {","","\t\tfn = name;","","\t\tname = Math.random().toString();","","\t}","","\tif ( name in funcs ) return name;","","\tfuncs[ name ] = fn;","","\tfuncCount++;","","\tif ( !frame ) {","","\t\tthen = Date.now();","","\t\tframe = window.requestAnimationFrame( tick );","","\t}","","\treturn name;","","}","","function stop ( name ) {","","\tif ( name === undefined ) {","","\t    funcs = {};","","\t    funcCount = 0;","","\t} else if ( name in funcs ) {","","\t    delete funcs[ name ];","","\t\tfuncCount--;","","\t}","","\tif ( funcCount === 0 ) {","","\t    window.cancelAnimationFrame(frame);","","\t\tframe = false;","","\t}","","}","","var once = fn => {","","\treturn start(( now, dT ) => {","","\t\tfn( now, dT );","","\t\treturn false;","","\t});","","}","","module.exports = { start, once, stop };"],"id":1}]]},"ace":{"folds":[],"scrolltop":1208,"scrollleft":0,"selection":{"start":{"row":96,"column":39},"end":{"row":96,"column":39},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1528032430189,"hash":"4c8502796462e39f7ee4b6de5834806ca805376f"}