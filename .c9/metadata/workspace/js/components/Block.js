{"changed":true,"filter":false,"title":"Block.js","tooltip":"/js/components/Block.js","value":"var m = require('mithril');\nvar { clamp, smoothstep } = require('../utils/math');\n\nvar ScrollAnimation = require('./ScrollAnimation');\n\nvar height = .5;\n\nvar Block = ScrollAnimation({\n    height,\n    view: ({ attrs: { text }, state: { top } }) => {\n        var min = 1 - height / 2;\n        var max = min + height;\n        var p = 1 - clamp( smoothstep( top, min, max ) );\n        var fixed = top >= .75;\n        if ( top < -1 ) return '';\n        return m('.text',\n            {\n                style: {\n                    transform: `translate( -50%, -50% ) scale(${ p }, ${ p })`,\n                    opacity: p,\n                    position: fixed ? 'fixed' : 'absolute'\n                }\n            },\n            text\n        )\n    }\n})","undoManager":{"mark":-2,"position":9,"stack":[[{"start":{"row":0,"column":0},"end":{"row":26,"column":2},"action":"insert","lines":["var m = require('mithril');","var { clamp, smoothstep } = require('../utils/math');","","var ScrollAnimation = require('./ScrollAnimation');","","var height = .5;","","module.exports = ScrollAnimation({","    height,","    view: ({ attrs: { text }, state: { top } }) => {","        var min = 1 - height / 2;","        var max = min + height;","        var p = 1 - clamp( smoothstep( top, min, max ) );","        var fixed = top >= .75;","        if ( top < -1 ) return '';","        return m('.text',","            {","                style: {","                    transform: `translate( -50%, -50% ) scale(${ p }, ${ p })`,","                    opacity: p,","                    position: fixed ? 'fixed' : 'absolute'","                }","            },","            text","        )","    }","})"],"id":1}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":14},"action":"remove","lines":["module.exports"],"id":2},{"start":{"row":7,"column":0},"end":{"row":7,"column":1},"action":"insert","lines":["v"]}],[{"start":{"row":7,"column":1},"end":{"row":7,"column":2},"action":"insert","lines":["a"],"id":3}],[{"start":{"row":7,"column":2},"end":{"row":7,"column":3},"action":"insert","lines":["r"],"id":4}],[{"start":{"row":7,"column":3},"end":{"row":7,"column":4},"action":"insert","lines":[" "],"id":5}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"insert","lines":["B"],"id":6}],[{"start":{"row":7,"column":5},"end":{"row":7,"column":6},"action":"insert","lines":["l"],"id":7}],[{"start":{"row":7,"column":6},"end":{"row":7,"column":7},"action":"insert","lines":["o"],"id":8}],[{"start":{"row":7,"column":7},"end":{"row":7,"column":8},"action":"insert","lines":["c"],"id":9}],[{"start":{"row":7,"column":8},"end":{"row":7,"column":9},"action":"insert","lines":["k"],"id":10}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":11},"end":{"row":7,"column":11},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1522887781613}